# Requirements: Floatnote v1 (Archived)

**Defined:** 2026-01-22
**Core Value:** A persistent, transparent scratch space that's always one keyboard shortcut away

## v1 Requirements

Requirements for this milestone: test core flows, automate builds, publish to npm.

### Testing

- [x] **TEST-01**: Integration tests verify IPC round-trips between main and renderer (save/load data, export, window management)
- [x] **TEST-02**: Integration tests verify preload bridge correctly exposes APIs to renderer
- [x] **TEST-03**: E2E tests launch real Electron app and verify drawing flow works
- [x] **TEST-04**: E2E tests verify text overlay creation and editing
- [x] **TEST-05**: E2E tests verify multi-note navigation (create, switch, delete)
- [x] **TEST-06**: E2E tests verify save/load persistence across app restart
- [x] **TEST-07**: E2E tests verify clipboard paste (image and text)
- [x] **TEST-08**: E2E tests verify settings persistence

### CI/CD

- [x] **CICD-01**: GitHub Actions workflow runs tests on every push to main and on PRs
- [x] **CICD-02**: GitHub Actions workflow builds macOS app (DMG + ZIP) on version tag push
- [x] **CICD-03**: Build produces both x64 and arm64 (Apple Silicon) artifacts
- [x] **CICD-04**: Tag push creates GitHub Release with built artifacts attached
- [x] **CICD-05**: Release notes auto-generated from commits since last tag
- [x] **CICD-06**: Version management uses `npm version` for atomic version + tag creation

### npm Publishing

- [x] **NPM-01**: package.json `files` field limits published package to `bin/` only
- [x] **NPM-02**: `prepublishOnly` script runs tests before publish
- [x] **NPM-03**: Release workflow publishes to npm after successful GitHub Release
- [x] **NPM-04**: NPM_TOKEN secret configured for CI authentication
- [x] **NPM-05**: `npx floatnote` successfully installs CLI and launches app download

### Layers (User-Requested)

- [x] **LAYER-01**: Users can create, rename, and delete layers from a minimal layer panel
- [x] **LAYER-02**: New drawings/shapes/text are added to the currently active layer
- [x] **LAYER-03**: Layers can be reordered with rendering order matching layer order
- [x] **LAYER-04**: Individual layers can be hidden/shown (toggle visibility)
- [x] **LAYER-05**: Individual layers can be locked (prevents editing)
- [x] **LAYER-06**: Layer state persists across app restarts
- [x] **LAYER-07**: Layer system works with existing undo/redo

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| TEST-01 | Phase 1 | Complete |
| TEST-02 | Phase 1 | Complete |
| TEST-03 | Phase 2 | Complete |
| TEST-04 | Phase 2 | Complete |
| TEST-05 | Phase 2 | Complete |
| TEST-06 | Phase 2 | Complete |
| TEST-07 | Phase 2 | Complete |
| TEST-08 | Phase 2 | Complete |
| CICD-01 | Phase 3 | Complete |
| CICD-02 | Phase 3 | Complete |
| CICD-03 | Phase 3 | Complete |
| CICD-04 | Phase 3 | Complete |
| CICD-05 | Phase 3 | Complete |
| CICD-06 | Phase 3 | Complete |
| NPM-01 | Phase 4 | Complete |
| NPM-02 | Phase 4 | Complete |
| NPM-03 | Phase 4 | Complete |
| NPM-04 | Phase 4 | Complete |
| NPM-05 | Phase 4 | Complete |
| LAYER-01 | Phase 5 | Complete |
| LAYER-02 | Phase 5 | Complete |
| LAYER-03 | Phase 5 | Complete |
| LAYER-04 | Phase 5 | Complete |
| LAYER-05 | Phase 5 | Complete |
| LAYER-06 | Phase 5 | Complete |
| LAYER-07 | Phase 5 | Complete |

**Coverage:** 26 requirements, all complete.

---
*Archived: 2026-01-24*
*Milestone: v1.0*
